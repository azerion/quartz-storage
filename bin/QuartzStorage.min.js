/*!
 * QuartzStorage - version 1.2.0 
 * Cross browser/platform safe localStorage implementation
 *
 * Gembly
 * Build at 18-08-2015
 * Released under GNUv3 License 
 */

var Quartz;!function(a){var b=function(){function a(a){this.setNamespace(a)}return Object.defineProperty(a.prototype,"length",{get:function(){return localStorage.length},enumerable:!0,configurable:!0}),a.prototype.getItem=function(a){return localStorage.getItem(this.namespace+a)},a.prototype.setItem=function(a,b){localStorage.setItem(this.namespace+a,b)},a.prototype.deleteItem=function(a){localStorage.removeItem(this.namespace+a)},a.prototype.empty=function(){for(var a=this,b=Object.keys(localStorage),c=b.filter(function(b){return-1!==b.indexOf(a.namespace)}),d=0;d<c.length;d++)localStorage.removeItem(c[d])},a.prototype.setNamespace=function(a){this.namespace=a+":"},a}();a.LocalStorage=b}(Quartz||(Quartz={}));var Quartz;!function(a){var b=function(){function b(){this.store=null;try{"object"==typeof localStorage?(localStorage.setItem("testingLocalStorage","foo"),localStorage.removeItem("testingLocalStorage"),this.store=new a.LocalStorage("Quartz")):this.store=new a.CookieStorage("Quartz")}catch(b){this.store=new a.CookieStorage("Quartz")}return this}return b.getInstance=function(){return null===a.Storage.instance&&(a.Storage.instance=new a.Storage),a.Storage.instance},b.prototype.setNamespace=function(a){return null===this.store&&console.error("No storage available, unable to set namespace: "+a),this.store.setNamespace(a),this},b.prototype.get=function(a){return null===this.store&&console.error("No storage available, unable to get key: "+a),this.store.getItem(a)},b.prototype.set=function(a,b){return null===this.store&&console.error("No storage available, unable to set key: "+a),this.store.setItem(a,b),this},b.instance=null,b}();a.Storage=b}(Quartz||(Quartz={}));var Quartz;!function(a){var b=function(){function a(a){this.keys=[],this.storage={},this._length=0,this.setNamespace(a),this._length=document.cookie.match(/\=/g).length}return Object.defineProperty(a.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),a.prototype.getItem=function(a){return a&&this.hasOwnProperty(a)?(a=this.namespace+a,decodeURIComponent(document.cookie.replace(new RegExp("(?:^|.*;\\s*)"+encodeURIComponent(a).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*"),"$1"))):null},a.prototype.setItem=function(a,b){a&&(a=this.namespace+a,document.cookie=encodeURIComponent(a)+"="+encodeURIComponent(b)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/",this._length=document.cookie.match(/\=/g).length)},a.prototype.deleteItem=function(a){a&&this.hasOwnProperty(a)&&(a=this.namespace+a,document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/",this._length--)},a.prototype.setNamespace=function(a){this.namespace=a+":"},a.prototype.empty=function(){},a.prototype.fetch=function(){},a}();a.CookieStorage=b}(Quartz||(Quartz={}));